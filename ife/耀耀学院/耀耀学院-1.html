<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>耀耀学院-1</title>
    <style>
        .metion{
            margin:2px 36px;
            color:#ccc;
        }
    </style>
</head>
<body>
    <form name="myForm" onsubmit="return validateForm()" method="post">
    名字: <input type="text" name="fname" id="inp">
    <input type="submit" value="验证" >
    <p class="metion">必填，长度4~16个字符</p>
    <script>
        function validateForm(){
            var x = document.forms["myForm"]["fname"].value;
            var y = document.getElementsByClassName("metion")[0];
            var inpLength = checkLength(x);
            if(x==null||x==""){
                y.innerHTML="姓名不能为空";
                y.style = "color:red";
                inp.style = "border:solid 2px red";
                return false;
            }
            if(inpLength<4||inpLength>8){
                y.innerHTML="不能超过4~16位字符，一个汉字算2个字符";
                y.style = "color:red";
                inp.style = "border:solid 2px red";
                return false;
            }
            if(!/^[a-zA-Z0-9\u4e00-\u9fa5]+$/.test(x)){
                y.innerHTML="只能输入中文,字母和数字";
                y.style = "color:red";
                inp.style = "border:solid 2px red";
                return false;
            }
            else{
                y.innerHTML="验证正确";
                y.style = "color:green";
                inp.style = "border:solid 2px green";
                return false;
            }
        }
        //检验输入的值有多少个字符
        function checkLength(str){
            var len =0,temp=0;
            for(var j=0;j<str.length;j++){
            　　temp = 1;
            　　if(/^[\u2E80-\u9FFF]+$/.test(str[j])){
                　　temp = 2;
            　　}
            　　len += temp;
            }
            return len;
        }
    </script>
</body>
</html>